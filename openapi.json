{"openapi":"3.1.0","info":{"title":"FastAPI","version":"0.1.0"},"paths":{"/api/orders/filter/":{"get":{"tags":["orders","admins"],"summary":"Get Filtered Orders","description":"Получение заявок по фильтру\n- **by_date**: показывать заявки на промежуток дат\n- **datetime_start**: дата начала фильтра\n- **datetime_end**: дата конца фильтра\n\n- **date_asc**: [bool] восходящий сорт по дате создание или нисходящий\n- **state**: фильтр статуса по названию статуса\n- **state_id**: фильтр статуса по id статуса\n\n- **show_deleted**: показывать удалённые заявки\n- **filter_date**: показывать заявки только на одну конкретную дату\n- **region_id**: айди региона заявки \n\n- **show_only_active**: [bool] показывать только заявки категории активные","operationId":"get_filtered_orders_api_orders_filter__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"by_date","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"By Date"}},{"name":"datetime_start","in":"query","required":false,"schema":{"type":"string","format":"date-time","title":"Datetime Start"}},{"name":"datetime_end","in":"query","required":false,"schema":{"type":"string","format":"date-time","title":"Datetime End"}},{"name":"date_asc","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Date Asc"}},{"name":"state","in":"query","required":false,"schema":{"type":"string","title":"State"}},{"name":"state_id","in":"query","required":false,"schema":{"type":"string","format":"uuid","title":"State Id"}},{"name":"show_deleted","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Show Deleted"}},{"name":"filter_date","in":"query","required":false,"schema":{"type":"string","title":"Filter Date"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":5,"title":"Limit"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Page"}},{"name":"region_id","in":"query","required":false,"schema":{"type":"string","format":"uuid","title":"Region Id"}},{"name":"show_only_active","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Show Only Active"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FilteredOrderOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/orders/{order_id}":{"get":{"tags":["orders","bot"],"summary":"Get Order By Id","description":"Получение конкретной заявки","operationId":"get_order_by_id_api_orders__order_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"order_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Order Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["orders"],"summary":"Delete Order By Id","description":"Удаление заявки\n**order_id** - UUID заявки","operationId":"delete_order_by_id_api_orders__order_id__delete","security":[{"OAuth2PasswordBearer":["bot"]}],"parameters":[{"name":"order_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Order Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["bot","orders"],"summary":"Update Order Data","description":"Обновить данные заявки\n- **order_id**: uuid заявки","operationId":"update_order_data_api_orders__order_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"order_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Order Id"}},{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"integer"}],"title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/users/orders/":{"get":{"tags":["bot","orders"],"summary":"Get User Orders","description":"Получение информации о заявках пользователя\nПри получении завяки обязательно нужно указать **tg_id** или **user_id**  \n- **tg_id**: айди пользователя в телеграм\n- **user_id**: внутренний uuid4 пользователя\n- **order_id**: uuid4 конкретной заявки\n- **orders_id**: список айди заявок\n- **order_num**: получение заявки по её номеру\n- **user_order_num**: получение заявки по её порядковому номеру у пользователя \n- **order_nums**: список номером заявок","operationId":"get_user_orders_api_users_orders__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"tg_id","in":"query","required":false,"schema":{"type":"integer","title":"Tg Id"}},{"name":"user_id","in":"query","required":false,"schema":{"type":"string","format":"uuid","title":"User Id"}},{"name":"order_id","in":"query","required":false,"schema":{"type":"string","format":"uuid","title":"Order Id"}},{"name":"orders_id","in":"query","required":false,"schema":{"type":"array","items":{"type":"string","format":"uuid"},"title":"Orders Id"}},{"name":"order_num","in":"query","required":false,"schema":{"type":"integer","title":"Order Num"}},{"name":"user_order_num","in":"query","required":false,"schema":{"type":"integer","title":"User Order Num"}},{"name":"order_nums","in":"query","required":false,"schema":{"type":"array","items":{"type":"integer"},"title":"Order Nums"}}],"responses":{"200":{"description":"Список заявок пользователя","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/orders/create":{"post":{"tags":["orders","bot"],"summary":"Create Order","description":"Создание заявки","operationId":"create_order_api_orders_create_post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Order"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/orders/{order_id}/history":{"get":{"tags":["orders","bot"],"summary":"Get Order Status History","description":"Получение истории изменения статуса заявки\n- **tg_id**: int телеграм айди пользователя (при наличии админской роли параметр необязателен)\n- **user_id**:  UUID пользователя (при наличии админской роли параметр необязателен)\n\nИстория возвращается с датой по убыванию (новое сначала)","operationId":"get_order_status_history_api_orders__order_id__history_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"order_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Order Id"}},{"name":"tg_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Tg Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/orders/all":{"delete":{"tags":["bot","admins","orders"],"summary":"Delete All Orders","description":"Удаление всех заявок (Именно чистка)","operationId":"delete_all_orders_api_orders_all_delete","security":[{"OAuth2PasswordBearer":[]}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/orders/{order_id}/status":{"put":{"tags":["orders"],"summary":"Set Order Status","description":"Обновление/Установка статуса заявки\n- **order_id**: UUID заявки\n- **status_text**: status_name статсуа в бд\n- **status_id**: UUID статуса в бд\nв запросе обязательно нужно передать либо **status_text** либо **status_id**","operationId":"set_order_status_api_orders__order_id__status_put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"order_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Order Id"}},{"name":"status_text","in":"query","required":false,"schema":{"type":"string","title":"Status Text"}},{"name":"status_id","in":"query","required":false,"schema":{"type":"string","format":"uuid","title":"Status Id"}},{"name":"send_message","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Send Message"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/orders/{order_id}/accept":{"post":{"tags":["orders","bot"],"summary":"Accept Order By User","description":"Принять вывоз по заявке пользователем","operationId":"accept_order_by_user_api_orders__order_id__accept_post","security":[{"OAuth2PasswordBearer":["bot"]}],"parameters":[{"name":"order_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Order Id"}},{"name":"tg_id","in":"query","required":true,"schema":{"type":"integer","title":"Tg Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/process_orders":{"get":{"tags":["managers","admins"],"summary":"Process Current Orders","description":"Обработка всех доступных заявок, высчитывание следующего дня забора заявки","operationId":"process_current_orders_api_process_orders_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/users":{"get":{"tags":["admins","managers"],"summary":"Get All Users","description":"Получение пользователей по фильтрам:\n\n- **role_name**: Фильтр по наличию роли у пользователя \n- **only_bot_users**: Возвращать ли только пользователей, привязавших/начавших пользоваться ботом\n- **with_orders**: Возвращать информацию о пользователях вместе с их заявками\n- **with_active_orders**: bool - возвращать пользователей только с активными заявками\n- **limit**: кол-во пользователей на запрос\n- **page**: номер страницы\n- **show_deleted**: показывать удалённых пользвателей\n- **has_orders**: показывать только пользователей, у которых есть хотя бы одна заявка","operationId":"get_all_users_api_users_get","security":[{"OAuth2PasswordBearer":["manager"]}],"parameters":[{"name":"role_name","in":"query","required":false,"schema":{"type":"string","title":"Role Name"}},{"name":"only_bot_users","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Only Bot Users"}},{"name":"with_orders","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"With Orders"}},{"name":"with_active_orders","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"With Active Orders"}},{"name":"with_inactive_orders","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"With Inactive Orders"}},{"name":"has_orders","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Has Orders"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":5,"title":"Limit"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Page"}},{"name":"show_deleted","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Show Deleted"}}],"responses":{"200":{"description":"Получение всех пользователей","content":{"application/json":{"schema":{},"example":[{"full_name":"null","date_created":"2023-11-29T00:57:57.654800","phone_number":"null","email":"null","telegram_id":7643079034697,"id":1}]}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["managers","admins"],"summary":"Create User","description":"Ручное создание нового пользователя\n- **send_email**: Отправить ли пользвателю письмо с кодом связи","operationId":"create_user_api_users_post","security":[{"OAuth2PasswordBearer":["manager"]}],"parameters":[{"name":"send_email","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Send Email"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreationValidator"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["admins","managers"],"summary":"Delete User","description":"Удаление пользователя (Отправляется в disabled)","operationId":"delete_user_api_users_delete","security":[{"OAuth2PasswordBearer":["manager"]}],"parameters":[{"name":"tg_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Tg Id"}},{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["users"],"summary":"Update User Self Data","description":"Обновить свои данные пользователем","operationId":"update_user_self_data_api_users_put","security":[{"OAuth2PasswordBearer":["customer"]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdateValidator"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/user":{"put":{"tags":["managers","admins"],"summary":"Update User Data","description":"Обновление данных пользователя админом или менеджером","operationId":"update_user_data_api_user_put","security":[{"OAuth2PasswordBearer":["manager"]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdateValidator"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"summary":"Get User Notifications","description":"Получить уведомления пользователя по айди","operationId":"get_user_notifications_api_user_get","parameters":[{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"string","format":"uuid"}],"title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/users/bot_linked":{"get":{"tags":["bot","users"],"summary":"Get Bot Users","description":"Получение пользователей тг бота, или пользователей сайта связавших профиль с тг","operationId":"get_bot_users_api_users_bot_linked_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/users/signup":{"post":{"tags":["users"],"summary":"Signup","description":"Регистрация клиента","operationId":"signup_api_users_signup_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserSignUp"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/token":{"post":{"tags":["users"],"summary":"Login","operationId":"login_api_token_post","requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_login_api_token_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/token/refresh":{"post":{"tags":["users"],"summary":"Refresh Access Token","description":"получить новый токен доступа, если текущий не истёк","operationId":"refresh_access_token_api_token_refresh_post","security":[{"OAuth2PasswordBearer":[]}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/users/me":{"get":{"tags":["users"],"summary":"Get Current User Info","description":"Получить информацию о текущем пользователе по токену","operationId":"get_current_user_info_api_users_me_get","security":[{"OAuth2PasswordBearer":[]}],"responses":{"200":{"description":"Получение информации об авторизованном пользователе (себе)","content":{"application/json":{"schema":{},"example":{"user_data":{"email":"user3@example.com","id":"43f96b7c-c417-4be1-9be8-857bf9df8acb","telegram_id":55455,"telegram_username":"null","phone_number":"null","firstname":"null","secondname":"null","orders":"null","roles":"null","deleted_at":"null","link_code":"e08d1fb4-6"},"token_data":{"sub":"user3@example.com","internal_id":"43f96b7c-c417-4be1-9be8-857bf9df8acb","scopes":["customer","admin","manager","courier","bot"]}}}}},"401":{"description":"Не удалось авторизировать пользователя","content":{"application/json":{"detail":"Not authenticated"}}}}}},"/api/user/{user_id}/info":{"get":{"tags":["users","admins"],"summary":"Get User Data","description":"Получить данные пользователя админом","operationId":"get_user_data_api_user__user_id__info_get","security":[{"OAuth2PasswordBearer":["admin"]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}},{"name":"with_orders","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"With Orders"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/user/me":{"get":{"tags":["bot","users"],"summary":"Get User Info","operationId":"get_user_info_api_user_me_get","security":[{"OAuth2PasswordBearer":["bot"]}],"parameters":[{"name":"tg_id","in":"query","required":true,"schema":{"type":"integer","title":"Tg Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/users/check":{"get":{"tags":["admins","users"],"summary":"Check User Roles","description":"Проверить базу данных пользователей на пользователей без роли и добавить им роль customer","operationId":"check_user_roles_api_users_check_get","security":[{"OAuth2PasswordBearer":["admin"]}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/users/import/file":{"post":{"tags":["admins"],"summary":"Import Clients","description":"Импорт клиентов и заявки с историей из excel таблицы","operationId":"import_clients_api_users_import_file_post","security":[{"OAuth2PasswordBearer":["admin"]}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_import_clients_api_users_import_file_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/users/phone-numbers/fix":{"post":{"summary":"Fix Phone Numbers","operationId":"fix_phone_numbers_api_users_phone_numbers_fix_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":["admin"]}]}},"/api/boxes":{"get":{"tags":["bot","boxes"],"summary":"Get Box Types","description":"Получение списка доступных контейнеров","operationId":"get_box_types_api_boxes_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"show_deleted","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Show Deleted"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["boxes"],"summary":"Create New Box Type","description":"Создание нового контейнера","operationId":"create_new_box_type_api_boxes_post","security":[{"OAuth2PasswordBearer":["bot"]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BoxTypeCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BoxType"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/boxes/{box_id}":{"put":{"tags":["boxes","admin"],"summary":"Update Box Data","description":"Обновление данных контейнера\n- **box_id**: UUID контейнера","operationId":"update_box_data_api_boxes__box_id__put","security":[{"OAuth2PasswordBearer":["bot"]}],"parameters":[{"name":"box_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Box Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BoxUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BoxType"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"summary":"Delete Box","description":"Удаление контейнера","operationId":"delete_box_api_boxes__box_id__delete","security":[{"OAuth2PasswordBearer":["bot"]}],"parameters":[{"name":"box_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Box Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/couriers":{"get":{"tags":["couriers","admins"],"summary":"Get List Of Couriers","description":"Получить список курьеров","operationId":"get_list_of_couriers_api_couriers_get","security":[{"OAuth2PasswordBearer":["admin","manager"]}],"parameters":[{"name":"show_deleted","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Show Deleted"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CourierOut"},"title":"Response Get List Of Couriers Api Couriers Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/courier":{"post":{"tags":["couriers"],"summary":"Create New Courier","description":"Назначить роль курьера пользователю","operationId":"create_new_courier_api_courier_post","security":[{"OAuth2PasswordBearer":["admin"]}],"parameters":[{"name":"tg_id","in":"query","required":false,"schema":{"type":"integer","title":"Tg Id"}},{"name":"user_id","in":"query","required":false,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/courier/info":{"get":{"tags":["couriers","admins"],"summary":"Get Courier Info By Id","operationId":"get_courier_info_by_id_api_courier_info_get","security":[{"OAuth2PasswordBearer":["admin"]}],"parameters":[{"name":"tg_id","in":"query","required":false,"schema":{"type":"integer","title":"Tg Id"}},{"name":"courier_id","in":"query","required":false,"schema":{"type":"string","format":"uuid","title":"Courier Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CourierOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/courier/orders":{"get":{"tags":["couriers","orders"],"summary":"Get List Of Avaliable Orders","description":"## УСТАРЕЛО\nПолучить доступные для вывоза заявки курьером\n\nОпции фильтра:\n- **regions_ids**: List[UUID] - Лист UUID регионов\n- **regions**: List[str] - Лист наименований регионов\n- **statuses_ids**: List[UUID] - Лист UUID статусов \n- **statuses**: List[str] - Лист наименований статусов (status_name). По умолчанию равен \"подтверждена\"\n\n\nдля получения всех заявок без пагинации, следует указать limit=0.","operationId":"get_list_of_avaliable_orders_api_courier_orders_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Limit"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Page"}},{"name":"regions_ids","in":"query","required":false,"schema":{"type":"array","items":{"type":"string","format":"uuid"},"title":"Regions Ids"}},{"name":"regions","in":"query","required":false,"schema":{"type":"array","items":{"type":"string"},"title":"Regions"}},{"name":"statuses_ids","in":"query","required":false,"schema":{"type":"array","items":{"type":"string","format":"uuid"},"title":"Statuses Ids"}},{"name":"statuses","in":"query","required":false,"schema":{"type":"array","items":{"type":"string"},"default":["подтверждена"],"title":"Statuses"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/courier/orders/my":{"get":{"tags":["couriers","orders"],"summary":"Get List Of Accepted Orders","operationId":"get_list_of_accepted_orders_api_courier_orders_my_get","security":[{"OAuth2PasswordBearer":["admin"]}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/courier/order/{order_id}/accept":{"post":{"tags":["couriers","orders"],"summary":"Accept Order By Courier","description":"Принять заявку курьером","operationId":"accept_order_by_courier_api_courier_order__order_id__accept_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"order_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Order Id"}},{"name":"courier_tg_id","in":"query","required":true,"schema":{"type":"integer","title":"Courier Tg Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/courier/order/{order_id}/comment":{"post":{"tags":["couriers","orders"],"summary":"Post Order Comment By Courier","description":"Оставить комментарий к заявке курьером","operationId":"post_order_comment_by_courier_api_courier_order__order_id__comment_post","security":[{"OAuth2PasswordBearer":["admin"]}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/statuses":{"get":{"tags":["statuses"],"summary":"Get All Statueses","description":"Получение списка всех статусов","operationId":"get_all_statueses_api_statuses_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/StatusOut"},"type":"array","title":"Response Get All Statueses Api Statuses Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/statuses/name":{"get":{"tags":["statuses"],"summary":"Get Status Info By Name","description":"Получение статуса по его названию","operationId":"get_status_info_by_name_api_statuses_name_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"status_name","in":"query","required":true,"schema":{"type":"string","title":"Status Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatusOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/statuses/{status_id}":{"put":{"tags":["statuses"],"summary":"Change Status","description":"- **allow_messages**: вкл/выкл отправку сообщения при изменении статуса на указанный\n- **status_allow_to**: - лист айди статусов, к которым статус может перейти\n- **status_allow_from**: - лист айди статусов, от которых статус может перейти","operationId":"change_status_api_statuses__status_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"status_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Status Id"}},{"name":"allow_messages","in":"query","required":true,"schema":{"type":"boolean","title":"Allow Messages"}},{"name":"status_allow_to","in":"query","required":false,"schema":{"type":"array","items":{"type":"string","format":"uuid"},"title":"Status Allow To"}},{"name":"status_allow_from","in":"query","required":false,"schema":{"type":"array","items":{"type":"string","format":"uuid"},"title":"Status Allow From"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/roles":{"get":{"tags":["roles"],"summary":"Get Avaliable Roles","description":"Получение списка ролей","operationId":"get_avaliable_roles_api_roles_get","security":[{"OAuth2PasswordBearer":["admin"]}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/bot/user":{"post":{"tags":["bot","users","bot"],"summary":"Create User","description":"Создать нового пользователя из телеграм бота","operationId":"create_user_api_bot_user_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserData"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":["bot"]}]}},"/api/bot/users/botclient/link":{"put":{"tags":["bot","users","bot"],"summary":"Create Bot Client From Link","description":"Привязать пользователя бота к клиенту по коду","operationId":"create_bot_client_from_link_api_bot_users_botclient_link_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LinkClientWithPromocodeFromTG"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":["bot"]}]}},"/api/bot/users/phone":{"get":{"tags":["bot","users","bot"],"summary":"Check User By Phone","description":"Поиск пользователя по номеру телефона (search-user-by-phone)","operationId":"check_user_by_phone_api_bot_users_phone_get","security":[{"OAuth2PasswordBearer":["bot"]}],"parameters":[{"name":"phone_number","in":"query","required":true,"schema":{"type":"string","title":"Phone Number"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/bot/users/promocode":{"get":{"tags":["bot","users","bot"],"summary":"Check User By Promocode","description":"Поиск пользователя по промокоду (search-user-by-promocode)","operationId":"check_user_by_promocode_api_bot_users_promocode_get","security":[{"OAuth2PasswordBearer":["bot"]}],"parameters":[{"name":"promocode","in":"query","required":true,"schema":{"type":"string","title":"Promocode"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/bot/users/telegram":{"get":{"tags":["bot","users","bot"],"summary":"Get User By Tg Id","operationId":"get_user_by_tg_id_api_bot_users_telegram_get","security":[{"OAuth2PasswordBearer":["bot"]}],"parameters":[{"name":"tg_id","in":"query","required":true,"schema":{"type":"integer","title":"Tg Id"}}],"responses":{"200":{"description":"Получение пользователя по телеграм айди","content":{"application/json":{"schema":{},"example":[{"first_name":"null","second_name":"null","date_created":"2023-11-29T00:57:57.654800","phone_number":"null","email":"null","telegram_id":7643079034697,"id":1}]}}},"404":{"description":"User not was not found","content":{"application/json":{"example":{"message":"Not found"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/bot/user/addresses/all":{"get":{"tags":["bot","addresses","bot"],"summary":"Get Addresses","description":"Получение всех адресов пользователя\n- **tg_id**: тг айди пользователя\n- **days_list_len**:","operationId":"get_addresses_api_bot_user_addresses_all_get","security":[{"OAuth2PasswordBearer":["bot"]}],"parameters":[{"name":"days_list_len","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Days List Len"}},{"name":"tg_id","in":"query","required":false,"schema":{"type":"integer","title":"Tg Id"}},{"name":"user_id","in":"query","required":false,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AddressOut"},"title":"Response Get Addresses Api Bot User Addresses All Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/bot/user/addresses/main":{"get":{"tags":["bot","addresses","bot"],"summary":"Get Main Address","description":"Получение главного адреса пользователя","operationId":"get_main_address_api_bot_user_addresses_main_get","security":[{"OAuth2PasswordBearer":["bot"]}],"parameters":[{"name":"tg_id","in":"query","required":true,"schema":{"type":"integer","title":"Tg Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/bot/user/addresses":{"post":{"tags":["bot","addresses","bot"],"summary":"Add User Address","description":"Создание адреса пользователя","operationId":"add_user_address_api_bot_user_addresses_post","security":[{"OAuth2PasswordBearer":["bot"]}],"parameters":[{"name":"tg_id","in":"query","required":false,"schema":{"type":"integer","title":"Tg Id"}},{"name":"user_id","in":"query","required":false,"schema":{"type":"string","format":"uuid","title":"User Id"}},{"name":"override_geocoder","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Override Geocoder"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Address"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddressOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/bot/user/addresses/{address_id}/schedule":{"put":{"tags":["bot"],"summary":"Set Address Schedule","description":"Указать расписание адреса","operationId":"set_address_schedule_api_bot_user_addresses__address_id__schedule_put","security":[{"OAuth2PasswordBearer":["bot"]}],"parameters":[{"name":"address_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Address Id"}},{"name":"tg_id","in":"query","required":true,"schema":{"type":"integer","title":"Tg Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddressSchedule"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddressOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/bot/user/addresses/{address_id}":{"get":{"tags":["bot","addresses","bot"],"summary":"Get Address Information By Id","description":"Получение информации об адресе пользователя по айди","operationId":"get_address_information_by_id_api_bot_user_addresses__address_id__get","security":[{"OAuth2PasswordBearer":["bot"]}],"parameters":[{"name":"address_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Address Id"}},{"name":"days_list_len","in":"query","required":false,"schema":{"type":"integer","default":5,"title":"Days List Len"}},{"name":"tg_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"string","format":"uuid"}],"title":"Tg Id"}},{"name":"user_id","in":"query","required":false,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddressOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["bot","addresses","bot"],"summary":"Update User Addresses","description":"Обновить данные адреса","operationId":"update_user_addresses_api_bot_user_addresses__address_id__put","security":[{"OAuth2PasswordBearer":["bot"]}],"parameters":[{"name":"address_id","in":"path","required":true,"schema":{"type":"string","title":"Address Id"}},{"name":"tg_id","in":"query","required":false,"schema":{"type":"integer","title":"Tg Id"}},{"name":"user_id","in":"query","required":false,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddressUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["bot","addresses","bot"],"summary":"Delete User Address","operationId":"delete_user_address_api_bot_user_addresses__address_id__delete","security":[{"OAuth2PasswordBearer":["bot"]}],"parameters":[{"name":"address_id","in":"path","required":true,"schema":{"type":"string","title":"Address Id"}},{"name":"tg_id","in":"query","required":false,"schema":{"type":"integer","title":"Tg Id"}},{"name":"user_id","in":"query","required":false,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/bot/routes":{"get":{"tags":["bot","routes","couriers","bot"],"summary":"Get Routes","description":"получить маршруты\n- **date**: [datetime] - дата на получение маршрутов, по умолчанию получаются все маршруты","operationId":"get_routes_api_bot_routes_get","security":[{"OAuth2PasswordBearer":["bot"]}],"parameters":[{"name":"courier_id","in":"query","required":true,"schema":{"type":"integer","title":"Courier Id"}},{"name":"date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Date"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RouteOut"},"title":"Response Get Routes Api Bot Routes Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/bot/address/check":{"get":{"tags":["bot","adresses"],"summary":"Check Given Address","operationId":"check_given_address_api_bot_address_check_get","security":[{"OAuth2PasswordBearer":["bot"]}],"parameters":[{"name":"lat","in":"query","required":true,"schema":{"type":"number","title":"Lat"}},{"name":"long","in":"query","required":true,"schema":{"type":"number","title":"Long"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/bot/address/check/text":{"get":{"tags":["bot","adresses"],"summary":"Check Given Address By Text","operationId":"check_given_address_by_text_api_bot_address_check_text_get","security":[{"OAuth2PasswordBearer":["bot"]}],"parameters":[{"name":"text","in":"query","required":true,"schema":{"type":"string","title":"Text"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/regions":{"get":{"tags":["regions"],"summary":"Get All Regions","description":"Получить список доступных регионов для сбора\n- **only_active**: вернуть только регионы, в которых проводится вывоз\n- **search_query**: поиск конкретного региона по названию, может быть как текстовый так и \nформата \"lat,long\" для поиска региона, содержащего точку\n- **with_work_days**: Отображать информацию о рабочих днях региона","operationId":"get_all_regions_api_regions_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"only_active","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Only Active"}},{"name":"with_work_days","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"With Work Days"}},{"name":"search_query","in":"query","required":false,"schema":{"type":"string","title":"Search Query"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RegionOutWithGeoData"},"title":"Response Get All Regions Api Regions Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["admins","regions"],"summary":"Import Regions From Geojson","description":"Импортировать рабочие районы из geojson файла\n- **file**: Файл с данными\n- **region_type**: Форс типа импортируемых районов, по умолчанию определяет \nот admin_level в feature \n- **update_existing**: Обновлять ли уже существующие районы, если они \nнайдены по названию","operationId":"import_regions_from_geojson_api_regions_post","security":[{"OAuth2PasswordBearer":["admin"]}],"parameters":[{"name":"region_type","in":"query","required":false,"schema":{"type":"string","default":"district","title":"Region Type"}},{"name":"update_existing","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Update Existing"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_import_regions_from_geojson_api_regions_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/regions/{region_id}":{"put":{"tags":["regions","managers"],"summary":"Update Region Data","description":"Обновить данные региона","operationId":"update_region_data_api_regions__region_id__put","security":[{"OAuth2PasswordBearer":["admin"]}],"parameters":[{"name":"region_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Region Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegionUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegionOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/routes/generate":{"post":{"tags":["routes","admins","managers"],"summary":"Generate Routes Today","description":"сформировать группы заявок в машруты\n- **group_by**: [str] - тип группировки заявок (по региону, по кластерам)\n- **statuses_list** [List[UUID]] - лист айди обрабатываемых статусов, по умолчанию \"принят клиентом\"\n- **couriers_id** [List[UUID]] - лист айди курьеров, которым выдадут маршруты\n- **write_after_generation** [bool] - записать ли результат сразу в бд","operationId":"generate_routes_today_api_routes_generate_post","security":[{"OAuth2PasswordBearer":["admin"]}],"parameters":[{"name":"statuses_list","in":"query","required":false,"schema":{"type":"array","items":{"type":"string","format":"uuid"},"title":"Statuses List"}},{"name":"group_by","in":"query","required":false,"schema":{"type":"string","default":"regions","title":"Group By"}},{"name":"couriers_id","in":"query","required":false,"schema":{"type":"array","items":{"type":"string","format":"uuid"},"title":"Couriers Id"}},{"name":"write_after_generation","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Write After Generation"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/routes":{"get":{"tags":["routes","admins","managers"],"summary":"Get Routes","description":"получить маршруты\n\n- **date**: [datetime] - дата на получение маршрутов, по умолчанию получаются все маршруты","operationId":"get_routes_api_routes_get","security":[{"OAuth2PasswordBearer":["admin"]}],"parameters":[{"name":"date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Date"}},{"name":"courier_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Courier Id"}},{"name":"courier_tg_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Courier Tg Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RouteOut"},"title":"Response Get Routes Api Routes Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/routes/{route_id}":{"patch":{"tags":["routes","admins","managers"],"summary":"Update Route Orders","description":"Обновить заявки в маршруте\n- **orders_to_delete**: [List[UUID]] - Лист заявок, которые перенесутся в отменённые и удалятся из маршрута\n- **orders_to_add**: [List[UUID]] - Лист заявок, которые удалятся из остальных маршрутов на сегодня и добавяться в этот указанный маршрут\n\nЗаявки перебрасываются только из маршрутов, чей день совпадает с сегодняшней датой","operationId":"update_route_orders_api_routes__route_id__patch","security":[{"OAuth2PasswordBearer":["admin"]}],"parameters":[{"name":"route_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Route Id"}},{"name":"orders_to_delete","in":"query","required":false,"schema":{"type":"array","items":{"type":"string","format":"uuid"},"title":"Orders To Delete"}},{"name":"orders_to_add","in":"query","required":false,"schema":{"type":"array","items":{"type":"string","format":"uuid"},"title":"Orders To Add"}},{"name":"new_courier_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"integer"}],"title":"New Courier Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RouteOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/route":{"post":{"tags":["routes","admins","managers"],"summary":"Create Route","description":"Создать маршрут вручную","operationId":"create_route_api_route_post","security":[{"OAuth2PasswordBearer":["admin"]}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/route/{route_id}":{"delete":{"tags":["routes","admins","managers"],"summary":"Delete Route","description":"Удалить маршрут","operationId":"delete_route_api_route__route_id__delete","security":[{"OAuth2PasswordBearer":["admin"]}],"parameters":[{"name":"route_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Route Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/route/{route_id}/courier_map":{"get":{"tags":["routes","admins"],"summary":"Get Route Y Map","description":"Получить маршрутизацию от яндекса, создать её если нет","operationId":"get_route_y_map_api_route__route_id__courier_map_get","security":[{"OAuth2PasswordBearer":["admin"]}],"parameters":[{"name":"route_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Route Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/my":{"get":{"summary":"Get My Notifications","description":"Получить уведомления текущего пользователя","operationId":"get_my_notifications_api_my_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/settings/types":{"get":{"tags":["settings"],"summary":"Get Settings Types","operationId":"get_settings_types_api_settings_types_get","security":[{"OAuth2PasswordBearer":["admin"]}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/bot/settings":{"get":{"tags":["settings"],"summary":"Get Settings","description":"Получить настройки проекта (и бота и бэкенда)","operationId":"get_settings_api_bot_settings_get","security":[{"OAuth2PasswordBearer":["admin"]}],"parameters":[{"name":"setting_name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Setting Name"}},{"name":"setting_key","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Setting Key"}},{"name":"setting_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Setting Id"}},{"name":"setting_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Setting Type"}},{"name":"setting_type_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Setting Type Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BotSettingOut"},"title":"Response Get Settings Api Bot Settings Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["settings"],"summary":"Create Bot Settings","description":"Создать новую настройку","operationId":"create_bot_settings_api_bot_settings_post","security":[{"OAuth2PasswordBearer":["admin"]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BotSetting"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BotSettingOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/bot/setting/{setting_id}":{"put":{"tags":["settings"],"summary":"Update Bot Setting","description":"Обновить настройку\n\n**Сбрасывает** старые типы настройки и устанавливает новые","operationId":"update_bot_setting_api_bot_setting__setting_id__put","security":[{"OAuth2PasswordBearer":["admin"]}],"parameters":[{"name":"setting_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Setting Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BotSettingUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BotSettingOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/bot/messages":{"get":{"tags":["settings"],"summary":"Get Bot Messages","description":"Получить сообщения бота","operationId":"get_bot_messages_api_bot_messages_get","security":[{"OAuth2PasswordBearer":["admin"]}],"parameters":[{"name":"message_key","in":"query","required":true,"schema":{"type":"string","title":"Message Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"string","title":"Response Get Bot Messages Api Bot Messages Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/work_days":{"get":{"tags":["settings"],"summary":"Get Work Days","description":"Получить настройки рабочих дней","operationId":"get_work_days_api_work_days_get","security":[{"OAuth2PasswordBearer":["admin"]}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}},"patch":{"tags":["settings"],"summary":"Edit Work Days","description":"все datetime поля используют формат YYYY-MM-DDT00:00\n- **dates_add**: список дат для добавления в нерабочие даты\n- **weekdays_add**: список дней недели для добавление в нерабочие дни\n- **dates_remove**: список дат для удаления их нерабочих дат\n- **weekdays_remove**: список дней недели для удаления из нерабочих дней","operationId":"edit_work_days_api_work_days_patch","security":[{"OAuth2PasswordBearer":["admin"]}],"requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/Body_edit_work_days_api_work_days_patch"}],"title":"Body"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/payments":{"get":{"tags":["payments"],"summary":"Get Payment Info","description":"- **payment_id**: uuid - получить информацию по конкретной заявке, если пусто возвращаются все платежи\n- **payment_tk_id**: int - по айди в тинькофф\n- **payment_order_num**: int - по order_num заявки\n- **payment_order_id**: UUID - по uuid заявки","operationId":"get_payment_info_api_payments_get","security":[{"OAuth2PasswordBearer":["admin"]}],"parameters":[{"name":"payment_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Payment Id"}},{"name":"payment_tk_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Payment Tk Id"}},{"name":"payment_order_num","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Payment Order Num"}},{"name":"payment_order_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Payment Order Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PaymentOut"},"title":"Response Get Payment Info Api Payments Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/payment/{payment_id}/status":{"get":{"tags":["payments"],"summary":"Get Payment Status","description":"Получение статуса первого/не рекуррентного платежа по айди","operationId":"get_payment_status_api_payment__payment_id__status_get","security":[{"OAuth2PasswordBearer":["admin"]}],"parameters":[{"name":"payment_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Payment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/payment/{payment_id}/status/order":{"get":{"tags":["payments"],"summary":"Get Payment Order Status","operationId":"get_payment_order_status_api_payment__payment_id__status_order_get","security":[{"OAuth2PasswordBearer":["admin"]}],"parameters":[{"name":"payment_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Payment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/payment":{"post":{"tags":["payments"],"summary":"Create New Payment","description":"Ручное создание оплаты\n- **for_order** UUID заявки, для которой нужно создать оплату\n- **terminal_id** UUID айти терминала, через который создастся оплата. При None используется терминал по умолчанию","operationId":"create_new_payment_api_payment_post","security":[{"OAuth2PasswordBearer":["admin"]}],"parameters":[{"name":"for_order","in":"query","required":true,"schema":{"type":"string","format":"uuid","title":"For Order"}},{"name":"terminal_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Terminal Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/terminals":{"get":{"tags":["payments"],"summary":"Get Payment Terminals","description":"Получить терминалы оплаты","operationId":"get_payment_terminals_api_terminals_get","security":[{"OAuth2PasswordBearer":["admin"]}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/terminal/{terminal_id}":{"patch":{"tags":["payments"],"summary":"Update Terminal Data","description":"Обновить данные шлюза оплаты\n\n- **terminal_id**: Айди терминала, данные которого требуется обновить","operationId":"update_terminal_data_api_terminal__terminal_id__patch","security":[{"OAuth2PasswordBearer":["admin"]}],"parameters":[{"name":"terminal_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Terminal Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentTerminal"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/payment-data/saved/cards/set-default":{"put":{"tags":["payments"],"summary":"Set Default Payment Card","operationId":"set_default_payment_card_api_payment_data_saved_cards_set_default_put","parameters":[{"name":"card_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","title":"Card Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/payment-data/saved-cards":{"get":{"tags":["payments"],"summary":"Get User Payment Information","description":"Получить данные оплаты пользователя после успешной оплаты\n- **user_id**: UUID|int - айди пользователя (может быть как тг айди так и UUID)\n\nВозвращает список сохранённых карт пользователя","operationId":"get_user_payment_information_api_payment_data_saved_cards_get","security":[{"OAuth2PasswordBearer":["admin"]}],"parameters":[{"name":"user_id","in":"query","required":true,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"integer"}],"title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/payment-data/customer-data/removeCard":{"delete":{"tags":["payments"],"summary":"Remove Saved Card","description":"Удаление сохранённой карты пользователя. Удаляет как у нас так и у тинькофф\n- **card_id**: UUID карты в нашей системе","operationId":"remove_saved_card_api_payment_data_customer_data_removeCard_delete","security":[{"OAuth2PasswordBearer":["admin"]}],"parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"string","format":"uuid","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/payment/notify/auto":{"post":{"tags":["payments"],"summary":"Process Notification From Tinkoff","description":"Служебный эндпоинт для тинькофф, не трогать","operationId":"process_notification_from_tinkoff_api_payment_notify_auto_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/managers/add/{user_id}":{"post":{"tags":["managers"],"summary":"Add Manager Role To User","description":"Добавить роль менеджера пользователю","operationId":"add_manager_role_to_user_api_managers_add__user_id__post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/managers":{"get":{"tags":["managers","couriers","admins"],"summary":"Get List Of Managers","description":"Получить список менеджеров","operationId":"get_list_of_managers_api_managers_get","security":[{"OAuth2PasswordBearer":["admin","manager"]}],"parameters":[{"name":"show_deleted","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Show Deleted"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ManagerOut"},"title":"Response Get List Of Managers Api Managers Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/managers/orders":{"get":{"tags":["managers"],"summary":"Get Manager Assigned Orders","operationId":"get_manager_assigned_orders_api_managers_orders_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/stats/users/registration":{"get":{"tags":["statistics"],"summary":"Get User Registration Stats","description":"Получить статистку пользователей за **year_month**\n- **year_month**: [datetime] - Месяц, за который будет собираться статистика, по умолчанию текущий\n\n\nВозвращает \n- **number**: [int] - Общее кол-во пользователей в системе, учитывая удалённых\n- **deleted_count**: [int] - Кол-во удалённых пользователей\n- **registered_in_month**: [int] - Сколько пользователей зарегестрировалось в этом месяце\n- **percentage**: [float] - процент зарегестрированных пользователей от общего кол-ва пользователей\n- **chart_data**: [dict] - кол-во зарегестрированных пользователей по датам месяца","operationId":"get_user_registration_stats_api_stats_users_registration_get","parameters":[{"name":"year_month","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Year Month"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRegistrationStat"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/stats/orders/creation":{"get":{"tags":["statistics"],"summary":"Get Order Creation Stats","description":"Получить статистку заявок за **year_month**\n- **year_month**: [datetime] - Месяц, за который будет собираться статистика, по умолчанию текущий\n\n\nВозвращает \n- **number**: [int] - Общее кол-во заявок в системе, учитывая удалённые\n- **deleted_count**: [int] - Кол-во удалённых заявок\n- **registered_in_month**: [int] - Сколько заявок зарегестрированно в этом месяце\n- **percentage**: [float] - процент зарегестрированных заявок от общего кол-ва\n- **chart_data**: [dict] - кол-во зарегестрированных заявок по датам месяца","operationId":"get_order_creation_stats_api_stats_orders_creation_get","parameters":[{"name":"year_month","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Year Month"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRegistrationStat"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/stats/orders/statuses":{"get":{"tags":["statistics"],"summary":"Get Order Statuses Stats","description":"Получить статистику заявок по их статусам","operationId":"get_order_statuses_stats_api_stats_orders_statuses_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/OrderStatusStatistic"},"title":"Response Get Order Statuses Stats Api Stats Orders Statuses Get"}}}}}}},"/api/stats/orders/regions":{"get":{"tags":["statistics"],"summary":"Get Order Region Stats","description":"Получить кол-во заявок по регионам, сбор заявок не учитывает даты создания/вывоза. Берутся только закрытые заявки","operationId":"get_order_region_stats_api_stats_orders_regions_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/OrderRegionStatistic"},"title":"Response Get Order Region Stats Api Stats Orders Regions Get"}}}}}}},"/api/stats/orders/dynamic":{"get":{"tags":["statistics"],"summary":"Get Order Dynamics Stat","description":"Получить статистику динамики изменений заявок. Собирает заявки по месяцу, указанному в **year_month**\nлибо, если он не указан то с начала текущего\n\n- **by_creation_date**: [bool] - собирать заявки по дате создания, а не дате вывоза. **False** собирает заявки по дате вывоза","operationId":"get_order_dynamics_stat_api_stats_orders_dynamic_get","parameters":[{"name":"year_month","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Year Month"}},{"name":"by_creation_date","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"By Creation Date"}},{"name":"before","in":"query","required":false,"schema":{"type":"integer","default":30,"title":"Before"}},{"name":"after","in":"query","required":false,"schema":{"type":"integer","default":30,"title":"After"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/stats/orders/latest":{"get":{"tags":["statistics"],"summary":"Get Latest Orders","operationId":"get_latest_orders_api_stats_orders_latest_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":5,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/OrderOut"},"title":"Response Get Latest Orders Api Stats Orders Latest Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs":{"get":{"tags":["jobs"],"summary":"Get All Jobs","operationId":"get_all_jobs_api_jobs_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"Address":{"properties":{"main":{"type":"boolean","title":"Main","default":false},"address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address"},"latitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Latitude"},"longitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Longitude"},"detail":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Detail"},"comment":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Comment"},"distance_from_mkad":{"anyOf":[{},{"type":"null"}],"title":"Distance From Mkad"},"point_on_map":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Point On Map"},"selected_day_of_week":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Selected Day Of Week"},"selected_day_of_month":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Selected Day Of Month"},"interval_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Interval Type"},"interval":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Interval"},"region_id":{"anyOf":[{"type":"string","format":"uuid4"},{"type":"null"}],"title":"Region Id"},"region":{"anyOf":[{"$ref":"#/components/schemas/RegionOut"},{"type":"null"}]}},"type":"object","title":"Address","description":"Модель на создание/обновление адреса","examples":[{"address":"Ул. Тверская 4","comment":"Злая собака, много тараканов","detail":"8-53. Домофон 53 и кнопка \"вызов\".","distance_from_mkad":12,"district":"МО","main":"true"}]},"AddressDaysWork":{"properties":{"date":{"type":"string","title":"Date"},"weekday":{"type":"string","title":"Weekday"}},"type":"object","required":["date","weekday"],"title":"AddressDaysWork"},"AddressOut":{"properties":{"id":{"type":"string","format":"uuid4","title":"Id"},"main":{"type":"boolean","title":"Main"},"address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address"},"latitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Latitude"},"longitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Longitude"},"detail":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Detail"},"comment":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Comment"},"distance_from_mkad":{"anyOf":[{},{"type":"null"}],"title":"Distance From Mkad"},"point_on_map":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Point On Map"},"selected_day_of_week":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Selected Day Of Week"},"selected_day_of_month":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Selected Day Of Month"},"interval_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Interval Type"},"interval":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Interval"},"region_id":{"anyOf":[{"type":"string","format":"uuid4"},{"type":"null"}],"title":"Region Id"},"region":{"anyOf":[{"$ref":"#/components/schemas/RegionOut"},{"type":"null"}]},"work_dates":{"anyOf":[{"items":{"$ref":"#/components/schemas/AddressDaysWork"},"type":"array"},{"type":"null"}],"title":"Work Dates"}},"type":"object","required":["id","main"],"title":"AddressOut"},"AddressSchedule":{"properties":{"selected_day_of_week":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Selected Day Of Week"},"selected_day_of_month":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Selected Day Of Month"},"selected_dates":{"anyOf":[{"items":{"type":"string","format":"date-time"},"type":"array"},{"type":"null"}],"title":"Selected Dates"},"interval_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Interval Type"}},"type":"object","title":"AddressSchedule","examples":[{"interval_type":"month_day","selected_day_of_month":["1","23","24"]}]},"AddressUpdate":{"properties":{"main":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Main"},"address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address"},"latitude":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Latitude"},"longitude":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Longitude"},"detail":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Detail"},"comment":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Comment"},"distance_from_mkad":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Distance From Mkad"},"point_on_map":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Point On Map"},"selected_day_of_week":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Selected Day Of Week"},"selected_day_of_month":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Selected Day Of Month"},"interval_type":{"type":"string","title":"Interval Type"},"interval":{"type":"string","title":"Interval"},"region_id":{"anyOf":[{"type":"string","format":"uuid4"},{"type":"null"}],"title":"Region Id"},"region":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Region"},"district":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"District"}},"type":"object","title":"AddressUpdate","description":"Модель на обновление данных адреса","examples":[{"address":"Ул. Тверская 4","comment":"Злая собака, много тараканов","detail":"8-53. Домофон 53 и кнопка \"вызов\".","distance_from_mkad":12,"district":"МО","main":"true"}]},"Body_edit_work_days_api_work_days_patch":{"properties":{"dates_add":{"items":{"type":"string","format":"date-time"},"type":"array","title":"Dates Add","default":[]},"weekdays_add":{"items":{"type":"string"},"type":"array","title":"Weekdays Add","default":[]},"dates_remove":{"items":{"type":"string","format":"date-time"},"type":"array","title":"Dates Remove","default":[]},"weekdays_remove":{"items":{"type":"string"},"type":"array","title":"Weekdays Remove","default":[]}},"type":"object","title":"Body_edit_work_days_api_work_days_patch"},"Body_import_clients_api_users_import_file_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_import_clients_api_users_import_file_post"},"Body_import_regions_from_geojson_api_regions_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_import_regions_from_geojson_api_regions_post"},"Body_login_api_token_post":{"properties":{"grant_type":{"anyOf":[{"type":"string","pattern":"password"},{"type":"null"}],"title":"Grant Type"},"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"},"scope":{"type":"string","title":"Scope","default":""},"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Secret"}},"type":"object","required":["username","password"],"title":"Body_login_api_token_post"},"BotSetting":{"properties":{"key":{"type":"string","title":"Key"},"value":{"type":"string","title":"Value"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"detail":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Detail"},"types":{"items":{"$ref":"#/components/schemas/BotSettingType"},"type":"array","title":"Types"}},"type":"object","required":["key","value"],"title":"BotSetting","description":"Схема на создание настройки"},"BotSettingOut":{"properties":{"key":{"type":"string","title":"Key"},"value":{"type":"string","title":"Value"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"detail":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Detail"},"types":{"items":{"$ref":"#/components/schemas/BotSettingType"},"type":"array","title":"Types"},"id":{"type":"string","format":"uuid4","title":"Id"}},"type":"object","required":["key","value","id"],"title":"BotSettingOut"},"BotSettingType":{"properties":{"id":{"anyOf":[{"type":"string","format":"uuid4"},{"type":"null"}],"title":"Id"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"}},"type":"object","title":"BotSettingType"},"BotSettingUpdate":{"properties":{"value":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Value"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"detail":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Detail"},"types":{"items":{"$ref":"#/components/schemas/BotSettingType"},"type":"array","title":"Types"}},"type":"object","title":"BotSettingUpdate"},"BoxType":{"properties":{"box_name":{"type":"string","title":"Box Name"},"pricing_default":{"type":"number","title":"Pricing Default"},"volume":{"type":"number","title":"Volume"},"weight_limit":{"type":"number","title":"Weight Limit"},"regional_prices":{"anyOf":[{"items":{"$ref":"#/components/schemas/RegionalBoxPrice"},"type":"array"},{"type":"null"}],"title":"Regional Prices"},"id":{"type":"string","format":"uuid4","title":"Id"},"deleted_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Deleted At"}},"type":"object","required":["box_name","pricing_default","volume","weight_limit","id"],"title":"BoxType","description":"Модель контейнера"},"BoxTypeCreate":{"properties":{"box_name":{"type":"string","title":"Box Name"},"pricing_default":{"type":"number","title":"Pricing Default"},"volume":{"type":"number","title":"Volume"},"weight_limit":{"type":"number","title":"Weight Limit"},"regional_prices":{"anyOf":[{"items":{"$ref":"#/components/schemas/RegionalBoxPrice"},"type":"array"},{"type":"null"}],"title":"Regional Prices"}},"type":"object","required":["box_name","pricing_default","volume","weight_limit"],"title":"BoxTypeCreate"},"BoxUpdate":{"properties":{"box_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Box Name"},"pricing_default":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Pricing Default"},"volume":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Volume"},"weight_limit":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Weight Limit"},"regional_prices":{"anyOf":[{"items":{"$ref":"#/components/schemas/RegionalBoxPrice"},"type":"array"},{"type":"null"}],"title":"Regional Prices"}},"type":"object","title":"BoxUpdate"},"CourierOut":{"properties":{"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"id":{"type":"string","format":"uuid4","title":"Id"},"telegram_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Telegram Id"},"telegram_username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Telegram Username"},"phone_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone Number"},"password_plain":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Password Plain"},"firstname":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Firstname"},"secondname":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Secondname"},"patronymic":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Patronymic"},"allow_messages_from_bot":{"type":"boolean","title":"Allow Messages From Bot"},"orders":{"anyOf":[{"items":{"$ref":"#/components/schemas/OrderOut"},"type":"array"},{"type":"null"}],"title":"Orders"},"roles":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Roles"},"deleted_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Deleted At"},"last_action":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Action"},"link_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Link Code"},"disabled":{"type":"boolean","title":"Disabled","default":false},"additional_info":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Additional Info"},"date_created":{"type":"string","format":"date-time","title":"Date Created"},"assigned_orders":{"anyOf":[{"items":{"$ref":"#/components/schemas/OrderOut"},"type":"array"},{"type":"null"}],"title":"Assigned Orders"},"assigned_routes":{"anyOf":[{"items":{"$ref":"#/components/schemas/RouteOut"},"type":"array"},{"type":"null"}],"title":"Assigned Routes"}},"type":"object","required":["email","id","telegram_id","telegram_username","allow_messages_from_bot","date_created"],"title":"CourierOut"},"CreateUserData":{"properties":{"tg_id":{"type":"integer","title":"Tg Id"},"username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Username"},"firstname":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Firstname"},"secondname":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Secondname"}},"type":"object","required":["tg_id"],"title":"CreateUserData"},"FilteredOrderOut":{"properties":{"global_count":{"type":"integer","title":"Global Count"},"count":{"type":"integer","title":"Count"},"orders":{"items":{"$ref":"#/components/schemas/OrderOut"},"type":"array","title":"Orders"}},"type":"object","required":["global_count","count","orders"],"title":"FilteredOrderOut"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"LinkClientWithPromocodeFromTG":{"properties":{"tg_id":{"type":"integer","title":"Tg Id"},"username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Username"},"firstname":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Firstname"},"secondname":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Secondname"},"promocode":{"type":"string","title":"Promocode"}},"type":"object","required":["tg_id","promocode"],"title":"LinkClientWithPromocodeFromTG"},"ManagerOut":{"properties":{"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"id":{"type":"string","format":"uuid4","title":"Id"},"telegram_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Telegram Id"},"telegram_username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Telegram Username"},"phone_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone Number"},"password_plain":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Password Plain"},"firstname":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Firstname"},"secondname":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Secondname"},"patronymic":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Patronymic"},"allow_messages_from_bot":{"type":"boolean","title":"Allow Messages From Bot"},"orders":{"anyOf":[{"items":{"$ref":"#/components/schemas/OrderOut"},"type":"array"},{"type":"null"}],"title":"Orders"},"roles":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Roles"},"deleted_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Deleted At"},"last_action":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Action"},"link_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Link Code"},"disabled":{"type":"boolean","title":"Disabled","default":false},"additional_info":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Additional Info"},"date_created":{"type":"string","format":"date-time","title":"Date Created"},"assigned_orders":{"anyOf":[{"items":{"$ref":"#/components/schemas/OrderOut"},"type":"array"},{"type":"null"}],"title":"Assigned Orders"}},"type":"object","required":["email","id","telegram_id","telegram_username","allow_messages_from_bot","date_created"],"title":"ManagerOut"},"Order":{"properties":{"from_user":{"type":"string","title":"From User"},"address_id":{"type":"string","format":"uuid4","title":"Address Id"},"day":{"type":"string","title":"Day"},"comment":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Comment"},"box_type_id":{"anyOf":[{"type":"string","format":"uuid4"},{"type":"null"}],"title":"Box Type Id"},"box_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Box Name"},"box_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Box Count"}},"type":"object","required":["from_user","address_id","day"],"title":"Order","examples":[{"address_id":"1cac46a0-7635-4e01-aea4-e3b9f657ca79","box_count":5,"box_name":"Пакет","day":"2024-04-07","from_user":"851230989"}]},"OrderDataChange":{"properties":{"id":{"type":"string","format":"uuid4","title":"Id"},"from_user":{"anyOf":[{"$ref":"#/components/schemas/UserOrderOutData"},{"type":"null"}]},"attribute":{"type":"string","title":"Attribute"},"new_content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"New Content"},"old_content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Old Content"},"date_created":{"type":"string","format":"date-time","title":"Date Created"}},"type":"object","required":["id","attribute","date_created"],"title":"OrderDataChange"},"OrderOut":{"properties":{"id":{"type":"string","format":"uuid4","title":"Id"},"order_num":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Order Num"},"user_order_num":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Order Num"},"last_disposal":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Disposal"},"times_completed":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Times Completed"},"day":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Day"},"date_created":{"type":"string","format":"date-time","title":"Date Created"},"last_updated":{"type":"string","format":"date-time","title":"Last Updated"},"legal_entity":{"type":"boolean","title":"Legal Entity"},"courier_id":{"anyOf":[{"type":"string","format":"uuid4"},{"type":"null"}],"title":"Courier Id"},"manager_id":{"anyOf":[{"type":"string","format":"uuid4"},{"type":"null"}],"title":"Manager Id"},"manager_info":{"anyOf":[{"$ref":"#/components/schemas/UserOrderOutData"},{"type":"null"}]},"comment":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Comment"},"comment_manager":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Comment Manager"},"comment_courier":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Comment Courier"},"comment_history":{"anyOf":[{},{"type":"null"}],"title":"Comment History"},"interval_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Interval Type"},"interval":{"anyOf":[{},{"type":"null"}],"title":"Interval"},"tg_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Tg Id"},"user_data":{"anyOf":[{"$ref":"#/components/schemas/UserOrderOutData"},{"type":"null"}]},"address_id":{"type":"string","format":"uuid4","title":"Address Id"},"address_data":{"anyOf":[{"$ref":"#/components/schemas/AddressOut"},{"type":"null"}]},"box_type_id":{"anyOf":[{"type":"string","format":"uuid4"},{"type":"null"}],"title":"Box Type Id"},"box_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Box Count"},"box_data":{"anyOf":[{"$ref":"#/components/schemas/BoxType"},{"type":"null"}]},"status":{"type":"string","format":"uuid4","title":"Status"},"status_data":{"anyOf":[{"$ref":"#/components/schemas/Status"},{"type":"null"}]},"deleted_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Deleted At"},"payments":{"anyOf":[{"items":{"$ref":"#/components/schemas/PaymentOut"},"type":"array"},{"type":"null"}],"title":"Payments"},"data_changes":{"anyOf":[{"items":{"$ref":"#/components/schemas/OrderDataChange"},"type":"array"},{"type":"null"}],"title":"Data Changes"}},"type":"object","required":["id","date_created","last_updated","legal_entity","address_id","status"],"title":"OrderOut"},"OrderRegionStatistic":{"properties":{"name":{"type":"string","title":"Name"},"value":{"type":"integer","title":"Value"}},"type":"object","required":["name","value"],"title":"OrderRegionStatistic"},"OrderRouteOut":{"properties":{"order_id":{"type":"string","format":"uuid4","title":"Order Id"},"route_id":{"type":"string","format":"uuid4","title":"Route Id"},"order":{"$ref":"#/components/schemas/OrderOut"}},"type":"object","required":["order_id","route_id","order"],"title":"OrderRouteOut"},"OrderStatusStatistic":{"properties":{"name":{"type":"string","title":"Name"},"value":{"type":"integer","title":"Value"}},"type":"object","required":["name","value"],"title":"OrderStatusStatistic"},"OrderUpdate":{"properties":{"address_id":{"anyOf":[{"type":"string","format":"uuid4"},{"type":"null"}],"title":"Address Id"},"box_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Box Name"},"box_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Box Count"},"box_type_id":{"anyOf":[{"type":"string","format":"uuid4"},{"type":"null"}],"title":"Box Type Id"},"comment":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Comment"},"comment_courier":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Comment Courier"},"comment_manager":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Comment Manager"},"day":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Day"},"manager_id":{"anyOf":[{"type":"string","format":"uuid4"},{"type":"null"}],"title":"Manager Id"}},"type":"object","title":"OrderUpdate","description":"Валидация на обновление данных заявки\n\n\nОтдельная т.к множество полей опциональные"},"PaymentOut":{"properties":{"id":{"type":"string","format":"uuid4","title":"Id"},"tinkoff_id":{"type":"integer","title":"Tinkoff Id"},"order_id":{"type":"integer","title":"Order Id"},"amount":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Amount"},"status":{"type":"string","title":"Status"},"is_reocurring":{"type":"boolean","title":"Is Reocurring"},"rebill_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rebill Id"},"payment_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Payment Url"},"terminal_id":{"type":"string","format":"uuid4","title":"Terminal Id"},"deleted_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Deleted At"},"date_created":{"type":"string","format":"date-time","title":"Date Created"}},"type":"object","required":["id","tinkoff_id","order_id","status","is_reocurring","terminal_id","date_created"],"title":"PaymentOut"},"PaymentTerminal":{"properties":{"terminal":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Terminal"},"password":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Password"},"default_terminal":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Default Terminal"}},"type":"object","title":"PaymentTerminal"},"RegionOut":{"properties":{"id":{"type":"string","format":"uuid4","title":"Id"},"name_short":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name Short"},"name_full":{"type":"string","title":"Name Full"},"region_type":{"type":"string","title":"Region Type"},"is_active":{"type":"boolean","title":"Is Active"},"work_days":{"anyOf":[{},{"type":"null"}],"title":"Work Days"}},"type":"object","required":["id","name_short","name_full","region_type","is_active"],"title":"RegionOut"},"RegionOutWithGeoData":{"properties":{"id":{"type":"string","format":"uuid4","title":"Id"},"name_short":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name Short"},"name_full":{"type":"string","title":"Name Full"},"region_type":{"type":"string","title":"Region Type"},"is_active":{"type":"boolean","title":"Is Active"},"work_days":{"anyOf":[{},{"type":"null"}],"title":"Work Days"},"geodata":{"type":"string","title":"Geodata"}},"type":"object","required":["id","name_short","name_full","region_type","is_active","geodata"],"title":"RegionOutWithGeoData"},"RegionUpdate":{"properties":{"name_short":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name Short"},"name_full":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name Full"},"region_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Region Type"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"},"work_days":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Work Days"}},"type":"object","required":["work_days"],"title":"RegionUpdate"},"RegionalBoxPrice":{"properties":{"region_name":{"type":"string","title":"Region Name"},"region_id":{"anyOf":[{"type":"string","format":"uuid4"},{"type":"null"}],"title":"Region Id"},"price":{"type":"number","title":"Price"}},"type":"object","required":["region_name","price"],"title":"RegionalBoxPrice"},"RouteOut":{"properties":{"id":{"type":"string","format":"uuid4","title":"Id"},"courier_id":{"type":"string","format":"uuid4","title":"Courier Id"},"short_name":{"type":"string","title":"Short Name"},"route_link":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Route Link"},"route_task_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Route Task Id"},"date_created":{"type":"string","format":"date-time","title":"Date Created"},"orders":{"anyOf":[{"items":{"$ref":"#/components/schemas/OrderRouteOut"},"type":"array"},{"type":"null"}],"title":"Orders"}},"type":"object","required":["id","courier_id","short_name","date_created"],"title":"RouteOut"},"Status":{"properties":{"status_name":{"type":"string","title":"Status Name"},"description":{"type":"string","title":"Description"},"message_on_update":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Message On Update"}},"type":"object","required":["status_name","description"],"title":"Status","description":"Статус"},"StatusOut":{"properties":{"status_name":{"type":"string","title":"Status Name"},"description":{"type":"string","title":"Description"},"message_on_update":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Message On Update"},"allow_from_list":{"anyOf":[{"items":{"$ref":"#/components/schemas/SubStatusListOut"},"type":"array"},{"type":"null"}],"title":"Allow From List"},"allow_to_list":{"anyOf":[{"items":{"$ref":"#/components/schemas/SubStatusListOut"},"type":"array"},{"type":"null"}],"title":"Allow To List"},"id":{"type":"string","format":"uuid4","title":"Id"}},"type":"object","required":["status_name","description","id"],"title":"StatusOut"},"SubStatusListOut":{"properties":{"id":{"type":"string","format":"uuid4","title":"Id"},"status_to":{"$ref":"#/components/schemas/SubStatusOut"}},"type":"object","required":["id","status_to"],"title":"SubStatusListOut"},"SubStatusOut":{"properties":{"id":{"type":"string","format":"uuid4","title":"Id"},"status_name":{"type":"string","title":"Status Name"},"description":{"type":"string","title":"Description"}},"type":"object","required":["id","status_name","description"],"title":"SubStatusOut"},"UserCreationValidator":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Password"},"telegram_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Telegram Id"},"telegram_username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Telegram Username"},"phone_number":{"anyOf":[{"type":"string","maxLength":64,"minLength":7,"format":"phone"},{"type":"null"}],"title":"Phone Number"},"firstname":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Firstname"},"secondname":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Secondname"},"patronymic":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Patronymic"},"role":{"items":{"type":"string"},"type":"array","title":"Role","default":["customer"]}},"type":"object","required":["email"],"title":"UserCreationValidator"},"UserOrderOutData":{"properties":{"id":{"type":"string","format":"uuid4","title":"Id"},"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"telegram_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Telegram Id"},"telegram_username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Telegram Username"},"phone_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone Number"},"firstname":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Firstname"},"secondname":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Secondname"},"patronymic":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Patronymic"},"deleted_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Deleted At"},"link_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Link Code"}},"type":"object","required":["id","email","telegram_id","telegram_username","phone_number","firstname","secondname","patronymic"],"title":"UserOrderOutData"},"UserOut":{"properties":{"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"id":{"type":"string","format":"uuid4","title":"Id"},"telegram_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Telegram Id"},"telegram_username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Telegram Username"},"phone_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone Number"},"password_plain":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Password Plain"},"firstname":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Firstname"},"secondname":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Secondname"},"patronymic":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Patronymic"},"allow_messages_from_bot":{"type":"boolean","title":"Allow Messages From Bot"},"orders":{"anyOf":[{"items":{"$ref":"#/components/schemas/OrderOut"},"type":"array"},{"type":"null"}],"title":"Orders"},"roles":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Roles"},"deleted_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Deleted At"},"last_action":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Action"},"link_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Link Code"},"disabled":{"type":"boolean","title":"Disabled","default":false},"additional_info":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Additional Info"},"date_created":{"type":"string","format":"date-time","title":"Date Created"}},"type":"object","required":["email","id","telegram_id","telegram_username","allow_messages_from_bot","date_created"],"title":"UserOut","description":"Возврат данных пользвателя"},"UserRegistrationStat":{"properties":{"number":{"type":"integer","title":"Number"},"deleted_count":{"type":"integer","title":"Deleted Count"},"registered_in_month":{"type":"integer","title":"Registered In Month"},"percentage":{"type":"number","title":"Percentage"},"chartData":{"items":{"$ref":"#/components/schemas/UserRegistrationStatChartData"},"type":"array","title":"Chartdata"}},"type":"object","required":["number","deleted_count","registered_in_month","percentage","chartData"],"title":"UserRegistrationStat"},"UserRegistrationStatChartData":{"properties":{"date":{"type":"string","format":"date-time","title":"Date"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["date","count"],"title":"UserRegistrationStatChartData"},"UserSignUp":{"properties":{"username":{"type":"string","format":"email","title":"Username"},"password":{"type":"string","title":"Password"}},"type":"object","required":["username","password"],"title":"UserSignUp","description":"Валидация регистрации"},"UserUpdateValidator":{"properties":{"user_id":{"type":"string","title":"User Id"},"password":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Password"},"telegram_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Telegram Id"},"telegram_username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Telegram Username"},"phone_number":{"anyOf":[{"type":"string","maxLength":64,"minLength":7,"format":"phone"},{"type":"null"}],"title":"Phone Number"},"firstname":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Firstname"},"secondname":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Secondname"},"patronymic":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Patronymic"},"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"allow_messages_from_bot":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Allow Messages From Bot"},"roles":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Roles"},"link_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Link Code"},"disabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Disabled","default":false},"additional_info":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Additional Info"}},"type":"object","required":["user_id"],"title":"UserUpdateValidator","description":"Валидатор на обновление данных пользователя\n\nВсе поля кроме айди пользователя не обязательны"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"api/token"}}}}}}